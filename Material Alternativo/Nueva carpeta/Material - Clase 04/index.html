<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>JavaScript Avanzado</title>
    <link href="css/styles.css" rel="stylesheet" />
</head>

<body>
    <div class="d-flex" id="wrapper">
        <!-- Sidebar-->
        <div class="border-end bg-white" id="sidebar-wrapper">
            <span class="sidebar-heading border-bottom bg-light">Contacto: <a
                    href="mailto:anahiforesi.educacionit@gmail.com">Anahí Foresi</a></span>
            <ul class="list-group list-group-flush">
                <a class="list-group-item list-group-item-action list-group-item-light p-3" href="index.html">Objeto XHR</a>
                <a class="list-group-item list-group-item-action list-group-item-light p-3"
                    href="ejercicios.html">Ejercicios</a>
            </ul>
        </div>
        <!-- Page content wrapper-->
        <div id="page-content-wrapper">
            <!-- Top navigation-->
            <nav id='barra' class="navbar navbar-expand-lg navbar-light bg-light border-bottom">
                <div class="container-fluid">
                    <button class="btn btn-primary" id="sidebarToggle">Temas</button>
                    <h1>Clase 04</h1>
                </div>
            </nav>
            <!-- Page content-->
            <div class="container-fluid">
                <h2 class="mt-4">Callbacks</h2>
                <p>
                    En este punto ya estamos familiarizados con las callbacks porque el trabajo con Eventos las requiere, pero vamos a repasarlas. <br>
                    Una callback es una función que se pasa como argumento de otra y se ejecutará en el momento en que la primera haya terminado su trabajo. <br>
                    La función callback siempre tiene un efecto determinado que está relacionado con ciertas circunstancias. En otras palabras, solo se invoca si ha tenido lugar otra acción claramente definida. <br>                    
                </p>
                <div class="container">
                    <div class="row">
                        <div class="col">
                            <img src="assets/callback.PNG" alt="" width="100%" style="max-width: 600px;">
                        </div>
                    </div>
                </div>

                <h2 class="mt-4">Sincronía y Asincronía</h2>
                <p>
                    Normalmente, el código de un programa determinado se ejecuta directamente, y solo sucede una cosa a la vez. Si una función se basa en el resultado de otra función, tiene que esperar a que la otra función termine y regrese, y hasta que eso suceda, todo el programa se detiene esencialmente desde la perspectiva del usuario. <br>
                    Esto es una experiencia frustrante y no tiene sentido sentarse allí a esperar algo cuando podrías dejar que la otra tarea se ejecute en otro procesador y le notifique cuando termine. Mientras tanto, esto le permitiría terminar otros trabajos, lo cual es la base de la programación asincrónica. <br>
                    JavScript es tradicionalmente single-threaded (thread -o hilo- es básicamente un proceso simple que un programa puede usar para completar tareas. Cada hilo solo puede realizar una tarea a la vez). Aún con múltiples procesadores, solo se puede ejecutar tareas en un solo hilo, llamado el hilo principal (main thread). Esto significa, entonces, que en JavaScript la ejecución de la siguiente línea de código quedará afectada por la demora en la ejecución de la línea actual. <br>
                    Utilizando <a href="https://www.jsv9000.app/" target="_blank" >esta</a> herramienta podemos estudiar la sincronía y asincronía en JavaScript. <br>
                    Entendiendo esto, entonces podemos adentrarnos en las dos formas que utiliza JavaScript para trabajar de forma asincrónica, es decir ejecutando las líneas siguientes aunque la actual no haya concluido. Estas son las callbacks y las promesas.                 
                </p>
                <div class="container">
                    <div class="row row-cols-1 row-cols-lg-2">
                        <div class="col mb-3">
                            <img src="assets/sincronia.png" alt="" width="100%" style="max-width: 600px;">
                        </div>
                        <div class="col mb-3">
                            <img src="assets/asincronia.png" alt="" width="100%" style="max-width: 600px;">
                        </div>
                    </div>
                </div>                
                <h2 class="mt-4">Peticiones HTTP (AJAX)</h2>
                <p>
                    El <b>HyperText Transfer Protocol (HTTP)</b> es un protocolo para el intercambio de información en la red; es decir, que define las reglas de ese intercambio. Se utiliza para transferencias de red bajo el modelo Cliente/Servidor. El Cliente envía una petición y recibe una respuesta. El Servidor recibe una petición y envía una respuesta asociada. Por defecto, el Cliente inicia la comunicación y el Servidor responde.
                    <br>
                    Una característica importante de HTTP es que se trata de un protocolo sin estado ¿Qué significa esto? En lo que concierne a las reglas de este protocolo, toda la información está contenida en el intercambio. 
                    <br>
                    AJAX (JavaScript Asíncrono y XML) es una conjunción de tecnologías (HTML, CSS, JS y XMLHttpRequest) es utilizado para describir la capacidad de realizar peticiones al servidor sin tener que recargar la página. Si bien inicialmente fue pensado para trabajar con archivos XML, hoy en día se puede manipular gran cantidad de archivos siendo JSON (JavaScript Object Notation) uno de los más utilizados.
                </p>
                <h3 class="mt-4">Status y Headers</h3>
                <p>
                    Para trabajar con AJAX es importante entender, al menos, dos conceptos fundamentales: status y headers.
                    <br>
                    Para realizar una Petición HTTP tenemos varios métodos siendo GET y POST los más comunes. <br>
                    Una petición GET se utiliza para obtener información del servidor; mientras que una petición POST se utiliza para enviar información al servidor. <br>
                    Al momento del envío, vamos a poder acceder a bastante información relacionada con qué se está transfiriendo, cuánto de la cantidad total fue transferida, la cantidad faltante, etc. Los conceptos de status y headers, son entonces, conceptos que hacen referencia esa información. <br>
                    El status nos informa todo lo relacionado con la transferencia, mientras que en los headers vamos a poder acceder a información relacionada con esa transferencia (como podría ser quién tiene acceso a la misma).  
                </p>
                <h4 class="mt-4">Códigos de Respuesta HTTP</h4>
                <ul>
                    <li>Respuestas informativas (100-199)</li>
                    <li>Respuestas satisfactorias (200-299)</li>
                    <li>Re-direcciones (300-399)</li>
                    <li>Errores de los clientes (400-499)</li>
                    <li>Errores de los servidores (500-599)</li>
                </ul>
                <h3 class="mt-4">JSON (JavaScript Object Notation)</h3>
                <p>
                    JSON es un formato de datos basado en texto que sigue la sintaxis de objeto de JavaScript. Puede ser utilizado independientemente de JavaScript, y muchos entornos de programación poseen la capacidad de leer (convertir; parsear) y generar JSON.
                    <br>
                    Los JSON son cadenas - útiles cuando se quiere transmitir datos a través de una red. Debe ser convertido a un objeto nativo de JavaScript cuando se requiera acceder a sus datos.
                </p>
                <ul>
                    <li>JSON es sólo un formato de datos — contiene sólo propiedades, no métodos.</li>
                    <li>JSON requiere usar comillas dobles para las cadenas y los nombres de propiedades. Las comillas simples no son válidas.</li>
                    <li>Una coma o dos puntos mal ubicados pueden producir que un archivo JSON no funcione</li>
                </ul>
                <div class="container">
                    <div class="row row-cols-1">
                        <div class="col mb-3">
                            <img src="assets/json.png" alt="" width="100%" style="max-width: 700px;">
                        </div>
                    </div>
                </div>
                <h2 class="mt-4">Objeto XHR</h2>
                <p>
                    El objeto XMLHttpRequest(xhr) es una API del navegador que permite hacer solicitudes HTTP desde JavaScript. Nos permite cargar/descargar archivos, dar seguimiento y mucho más.
                    En la actualidad existe fetch(), un objeto moderno para trabajar con llamas AJAX (solicitudes HTTP), pero xhr todavía puede ser necesario en las siguiente ocasiones:
                    <ul>
                        <li>Razones históricas: necesitamos soportar scripts existentes con XMLHttpRequest.</li>
                        <li>Necesitamos soportar navegadores viejos, y no queremos polyfills (p.ej. para mantener los scripts pequeños).</li>
                        <li>Necesitamos hacer algo que fetch no puede todavía, ej. rastrear el progreso de subida.</li>
                    </ul>
                </p>
                <div class="container">
                    <div class="row row-cols-1">
                        <div class="col mb-3">
                            <img src="assets/ajax1.png" alt="" width="100%" style="max-width: 700px;">
                        </div>
                        <div class="col mb-3">
                            <img src="assets/ajax2.png" alt="" width="100%" style="max-width: 700px;">
                        </div>
                        <div class="col mb-3">
                            <img src="assets/ajax3.png" alt="" width="100%" style="max-width: 700px;">
                        </div>
                        <div class="col mb-3">
                            <img src="assets/ajax4.png" alt="" width="100%" style="max-width: 700px;">
                        </div>
                    </div>
                </div>

                <footer class="text-end">
                    <small> Información adicional sobre<a href="https://developer.mozilla.org/es/docs/Learn/JavaScript/Asynchronous">  Asincronía</a> |
                    <a href="https://es.javascript.info/regular-expressions"> XHR</a></small>
                </footer>
            </div>
        </div>
    </div>
    <!-- Bootstrap core JS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Core theme JS-->
    <script src="js/scripts.js"></script>
</body>

</html>